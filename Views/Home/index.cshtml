<link rel="stylesheet" type="text/css" href="~/assets/css/home.css">

<!-- Search field -->
<div class="searchBar d-flex justify-content-center">
    <input id="searchQueryInput" type="text" name="searchQueryInput"
        placeholder="Search Book Title (Press Enter to Search...)" value="" class="bg-black text-white"
        style="max-width: 750px;" onkeyup="searchBooks(event)" />
    <svg id="searchQuerySubmit" style="width:24px;height:24px" viewBox="0 0 24 24">
        <path fill="#666666"
            d="M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z" />
    </svg>
</div>

<div id="bookListContainer">
    <!-- Render the initial list of books -->
    @await Html.PartialAsync("_BookListPartial", (List<Book>)Model)
</div>

<!-- bootsrtap modal - popup to display the details for each book -->
<div class="modal fade" id="bookDetailsModal" tabindex="-1" role="dialog" aria-labelledby="bookDetailsModalLabel"
    aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <!-- Modal Title -->
                <h5 class="modal-title" id="bookDetailsModalLabel">Book Details</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"
                    onclick="closeBookDetailsModal()">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-md-4 d-flex justify-content-center">
                        <!-- Book Image -->
                        <img src="" id="bookDetailsModalImage" class="img-fluid" alt="Book Image"
                            style="max-width: 275px; max-height: 300px; border-radius: 10px">
                    </div>
                    <div class="col-md-8">
                        <!-- Book Details -->
                                                <div id="bookDetailsModalID"></div>
                                            <h5 id="bookDetailsModalTitle"></h5>
                                            <p id="bookDetailsModalPrice" style="font-weight: bold;"></p>
                                                <p id="bookDetailsModalAuthor"></p>
                        <p style="padding-right: 25px;" class="text-lead" id="bookDetailsModalDescription"></p>


                        <div class="row col-6 px-2">
                            <!-- "Out Of Stock" badge -->
                            <span id="bookDetailsModalOutOfStock" class="badge bg-danger mb-2"
                                style="display: none;">Out Of
                                Stock</span>
                        </div>

                        <!-- "Add to Cart button -->
                        <button id="bookDetailsModalAddToCart" class="btn btn-success"
                            onclick="addToCartFromModal()">Add to Cart</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


@section scripts {
        <script src="~/assets/js/home.js"></script>
        <script src="~/assets/js/searchBooks.js"></script>
}